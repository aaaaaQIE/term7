# §2-1 PLC的分类和基本形式

## 一、PLC按I/O点数分类

* I/O点数小于32为微型PLC；
* I/O点数在32～128为微小型PLC；
* I/O点数在128～256为小型PLC；
* I/O点数在256～1024为中型PLC；
* I/O点数大于1024为大型PLC；
* I/O点数在4000以上为超大型PLC。

以上划分不包括模拟量I/O点数，且划分界限不是固定不变的。

## 二、PLC按结构形式分类

### 1、整体式

又称单元式或箱体式。整体式PLC是将电源、CPU模块、输入输出（I/O）模块都集中装在一个箱状机壳内。一般小型PLC采用这种结构。它包括基本单元和扩展单元。

#### 整体式PLC特点

* 结构紧凑，它可将所有的电路集中在一个模块内，构成一个整体。
* 体积小、重量轻、成本低、安装方便，可直接装入机床或其他设备的电控柜中。
* PLC的产品通常都有不同点数的**基本单元**、**扩展单元**和**扩展模块**三部分搭配使用。
  * 基本单元：内部有CPU与存储器，为必用装置。
  * 扩展单元：需要增加I/O点数时，使用的装置内**无CPU**。
  * 扩展模块：以8为单位增加I/O点数，也可只增加输入数或输出数，因而使I/O的点数比率改变。扩展模块与扩展单元不同，它**内部无电源**，需由基本单元或扩展单元供给电源。

### 2、模块式

将PLC各部分分成若干个单独的模块，如CPU模块、I/O模块、电源模块和各种功能模块。

模块式由框架和各种模块组成。**模块插在底板上**。一般大、中型PLC采用模块式结构，而有的小型PLC也采用这种结构。

#### 模块式PLC特点

* CPU为独立的模块，输入、输出也是独立的模块，**配置很灵活**；
* 可以根据不同的系统规模选用**不同档次**的CPU及各种I/O模块、功能模块。
  * 各种模块以外，还需要用基板（主基板、扩展基板）将各模块联成整体；有多块基板时，则还要用电缆将各基板联在一起。
* 对于I/O点数很多的系统选型，**安装调试、扩展、维修等都非常方便**。

### 3、叠装式

# §2-2 PLC的基本组成

## 一、PLC的硬件结构

### 1、中央处理单元（CPU）

可编程序控制器中，常用的CPU主要采用通用微处理器、单片机和双极型位片式微处理器三种类型：

1. 通用处理器：8080、8086、80286、80386；
2. 单片机芯片：8031、8096；
3. 位片式微处理器：AM2900、AM2901、AM2903。

### 2、存储器

* 随机存取存储器（RAM）：可读可写，没有断电保持功能。
* 只读存储器（ROM）：只读，不能写。
* 可紫外线擦除只读存储器（EPROM）：非易失性。用紫外线照射芯片上的透镜窗口，可以擦除已写入的内容，写入新内容。
* 可电擦除只读存储器（EEPROM）：它是非易失的。具有ROM的非易失性和RAM的随机存取的优点。但价格比较高。

根据存储器在系统中的作用，可以把存储器分为以下3种：

1. 系统程序存储器；
2. 用户程序存储器；
3. 工作数据存储器。

ROM存放**系统**程序

RAM存放**用户**程序、工作数据

### 3、常用的I/O模块（单元）

PLC输入模块的作用是将PLC外部信号送至PLC内部；PLC输出模块是用来驱动控空负载（电磁铁、继电器、接触器线圈等）。

* 开关量输入单元

  * 直流输入单元
  * 交流输入单元

  直流输入单元若输入交流电则会烧毁，交流输入电源若输入直流电仅会不工作。

* 开关量输出单元。

  * 晶体管输出单元
  * 双向晶闸管输出单元
  * 继电器输出单元

## 上节课重点

1. 电工学中所学习到的电动机启停等控制：交流接触器——继电器控制，一般称为什么控制？（<u>常规控制</u>）
2. 电气控制系统中涉及到控制的主要控制设备（主控设备）有哪些？（<u>工控机、单片机、PLC、调节控制仪表、I/O卡</u>）
3. 常见的被控制参数（被控参数）有哪些？（<u>温度、压力、流量、转速、阀门开度、相对湿度</u>）
4. 什么是**模拟量**？（<u>连续变化的量</u>）什么是**开关量**？（<u>0断1通</u>）阀门全开全关控制是开关量控制，还是模拟量控制？（<u>开关量</u>）阀门开度控制呢？（<u>模拟量</u>）
5. 工控机、PLC中常常配置有**A/D和D/A转换卡**（模块）。其中A/D（<u>模数转换卡</u>）、D/A（<u>数模转换卡</u>）各称为什么？属于I/O中的哪类卡（<u>输入卡</u>）？其各自的作用是什么？
6. 常规继电器一交流接触器控制中，分**主电路**和**控制电路**，PLC只能完成哪部分功能？（<u>控制电路</u>）
7. I/O地址表、I/O硬件接线图、梯形图之间的关系。（<u>先有地址表，再有硬件接线图和梯形图，硬件接线图和梯形图基本同时</u>）
8. 使用PLC作为主控设备来构成自动控制系统，有何好处？（硬件的部分不需要改动，仅需要改变控制程序，控制过程就改变了；辅助测量）
9. PLC的含义是什么？（<u>可编程序控制器</u>）目前常用的PLC有哪几种品牌？（<u>西门子、欧姆龙、三菱，西门子最贵</u>）
10. **PLC**按其**结构形式来分类**，有哪几种形式？（<u>整体式、模块式、叠装式</u>）
11. PLC有哪几部分组成？（<u>CPU、内存、输入单元、输出单元、编程器、电源</u>）
12. PLC中存储器有哪几种类型？存储器的分类？（系统程序存储器（<u>ROM</u>）；用户程序存储器（<u>RAM</u>）；工作数据存储器（<u>RAM</u>））
13. 常用的开关量输入/输出模块（或单元）有哪几种？（<u>直流输入模块、交流输入模块；输出三个</u>）
14. PLC中的com端是什么端子？（<u>公共接线端</u>）

$$
三极管\begin{cases}
放大特性\\
开关特性
\begin{cases}
截止\\
饱和
\end{cases}
\end{cases}
$$

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921144539836.png" alt="image-20230921144539836" style="zoom:50%;" />

### AD003和DA003与外设之间的连接

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921144324431.png" alt="image-20230921144324431" style="zoom:40%;" />

### I/O模块的外部接线方式

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921145111179.png" alt="image-20230921145111179" style="zoom:50%;" />

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921145309308.png" alt="image-20230921145309308" style="zoom:50%;" />

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921145530768.png" alt="image-20230921145530768" style="zoom:50%;" />

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921150049490.png" alt="image-20230921150049490" style="zoom:50%;" />

**不同分组端所接负载共用一个电源**，可将所有com端用导线接在一起。

## 二、PLC的软件结构

### 1、系统监控程序

监控程序是PLC成品必须包括的部分，由制造者编制，用于PLC本身的运行。它包括以下几个部分：

* **管理程序**：
   * **运行管理**：进行**时间上的分配管理**。即控制PLC何时输入/输出、运算、自检、通讯。
   * **生成用户元件**：进行**存储空间管理**（即生成用户元件），由它规定各种参数、程序的存放地址，将用户使用的数据参数存储地址转化为实际的数据格式及物理存放地址。它将有限的资源变为用户可直接使用的很方便的元件。
   * **内部自检**：它包括各种系统**出错检验**、用户程序**语法检验**、句法检验、警戒时钟运行等。
* **用户指令解释程序**：PLC是采用梯形图语言编程，需通过用户指令解释程序，将人们易懂的梯形图程序变为（**翻译**）机器能懂的机器语言程序。
* **标准程序模块，系统调用**：是由许多**独立程序块**组成，各自能完成不同功能（完成输入/输出、特殊运算等）。PLC的各种具体工作都是由这部分程序（**特殊指令**）来完成的，这部分程序的多少，将决定了PLC性能强弱。

#### 注意

* 整个系统监控程序是一个整体。
* 监控程序质量的好坏很大程度上影响了PLC的性能。
* 通过改进系统监控程序就可在不增加任何硬设备的条件下大大改善PLC的性能。
* 国外PLC厂家对监控程序的编制非常重视。实际售出的产品中，其监控程序一直在不断地完善。

### 2、用户程序

是供可编程序控制器的使用者，针对**控制问题**所编制的程序。

* 用梯形图或某种PLC指令的助记符编制而成的，可以是**梯形图**、**指令表**、**高级语言**、**汇编语言**等等，其助记符形式随PLC型号不同而不同。
* 线性地存储在监控程序指定的**存储区间**内的。它的最大容量也是由监控程序限制了的。

# §2-3 PLC的工作原理

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921152041372.png" alt="image-20230921152041372" style="zoom:50%;" />

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921152752576.png" alt="image-20230921152752576" style="zoom:50%;" />

* 内部处理：有的将其称为：PLC自诊断阶段
* 通信操作：也叫输入采样。在此阶段，顺序读入所有输入端子的通断状态，并将读入的信息存入内存中所对应的映象寄存器。在此输入映象寄存器被刷新。
* 程序执行：根据梯形图程序扫描原则，按先左后右、先上后下的步序，逐句扫描，执行程序。
* 输出处理：程序执行完毕后，将元件映象寄存器中Y寄存器的状态，在输出处理阶段转存到输出锁存器，通过隔离电路，驱动功率放大电路，使输出端子向外界输出控制信号，驱动外部负载。

### 二、PLC的工作特点

* 输入信号集中批量处理
* 程序集中执行
* 输出信号集中批量处理

### 三、PLC的工作过程

#### 注意：

1. PLC是**“串行”工作**的，这和传统的继电器控制系统的“并行”工作有质的区别。这种串行工作方式避免了继电器接触器控制系统中触点竞争和时序失配的问题。
2. PLC的扫描既可按**固定的顺序进行**，也可按用户程序所指定的**可变顺序进行**。
3. 全部输入输出状态的改变，需要一个扫描周期。

![image-20230921152850838](2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921152850838.png)

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921153503973.png" alt="image-20230921153503973" style="zoom:50%;" />

<img src="2.PLC%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E5%8F%8A%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.assets/image-20230921153850183.png" alt="image-20230921153850183" style="zoom:50%;" />